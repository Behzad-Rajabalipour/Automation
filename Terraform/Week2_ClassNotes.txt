AWS Lab:
aws sts get-caller-identity
vi ~/.aws/credentials
vi ~/.aws/config
aws sts get-caller-identity
aws iam create-user --user-name dhana

#SSH Key Generation
ssh-keygen -t rsa -f ~/.ssh/week1
ssh-keygen -m PEM -t rsa -f /home/ec2-user/.ssh/week1

#Import keypair : 
aws ec2 import-key-pair --key-name "week1" --public-key-material  fileb://~/.ssh/week1.pub

#Create EC2 Instance via AWS Commands

aws ec2 run-instances --image-id resolve:ssm:/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2 --instance-type t2.micro --key-name week1

# SG creation

aws ec2 create-security-group --group-name acs730-week2-sg  --description "Security Group for Admin Traffic"

#Ingress - Allow SSH
aws ec2 authorize-security-group-ingress --group-name acs730-week2-sg --protocol tcp --port 22 --cidr 0.0.0.0/0

#Attach new SG to newly created EC2 insatnce
aws ec2 modify-instance-attribute --instance-id i-0311fdb0c2ced4833 --groups sg-0fe68f9333934e8fe

#SSH connection from CLI/C9 to new EC2
ssh -i ~/.ssh/week1 ec2-user@ec2-52-91-44-42.compute-1.amazonaws.com 


# connect from ssh to GitHub
1. git init
2. git add .
3. git commit -m "fist commit"
4. git remote add origin git@github.com:Behzad-Rajabalipour/network_module.git
5. ssh-keygen -t rsa -f ./gitKey
6. add context of gitKey.pub into GitHub 
7. eval "$(ssh-agent -s)"     => Start the SSH agent in the background
8. ssh-add ./gitKey	=> add private key to the agent
9. ssh -T git@github.com   => test connection
10. git push -u origin master
(if you close ssh, you will be disconnected, because agent will be removed)


